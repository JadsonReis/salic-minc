<div class="row">
    <div class="col s12">
        <?php if (count($this->arrResult) > 0) : ?>
            <table class="bordered striped highlight" style="width: 100%">
                <thead class=" green darken-1 white-text">
                <tr>
                    <th>#</th>
                    <th data-field="" class="left-align">Nº</th>
                    <th data-field="" class="left-align">Título</th>
                    <th data-field="" class="left-align">Proponente</th>
                    <th data-field="" class="left-align">Solicita&ccedil;&atilde;o</th>
                    <th data-field="" class="left-align">Situa&ccedil;&atilde;o</th>
                    <th data-field="id" class="center-align">Data</th>
                </tr>
                </thead>
                <tbody>
                <?php foreach ($this->arrResult as $int => $arrValue): ?>

                    <?php
                    $arrayUrl = ['module' => 'solicitacao', 'controller' => 'mensagem', 'action' => 'visualizar', 'id' => $arrValue['idSolicitacao']];

                    if (!empty($arrValue['idPronac'])) {
                        $arrayUrl['idPronac'] = $arrValue['idPronac'];
                    } elseif (!empty($arrValue['idProjeto'])) {
                        $arrayUrl['idPreProjeto'] = $arrValue['idProjeto'];
                    }

                    if($this->ehTecnico) {
                        $arrayUrl['action'] = 'responder';
                    }
                    ?>
                    <tr>
                        <td><?= $int + 1; ?></td>
                        <td>
                            <a href="<?php echo $this->url($arrayUrl, null, true); ?>">
                                <?php if (!empty($arrValue['Pronac'])) {
                                    echo $arrValue['Pronac'];
                                } elseif ($arrValue['idProjeto']) {
                                    echo $arrValue['idProjeto'];
                                } ?>
                            </a>
                        </td>
                        <td>
                            <a href="<?php echo $this->url($arrayUrl, null, true); ?>">
                                <?= $arrValue['NomeProjeto']; ?>
                            </a>
                        </td>
                        <td>
                            <a href="<?php echo $this->url($arrayUrl, null, true); ?>">
                                <?= $arrValue['Solicitante']; ?>
                            </a>
                        </td>
                        <td>
                            <a href="<?php echo $this->url($arrayUrl, null, true); ?>">
                                <?= $arrValue['dsSolicitacao']; ?>
                            </a>
                        </td>
                        <td>
                            <a href="<?php echo $this->url($arrayUrl, null, true); ?>">
                                <?= $arrValue['dsEncaminhamento']; ?>
                            </a>
                        </td>
                        <td class="center-align"><?= date('d/m/Y', strtotime($arrValue['dtSolicitacao'])); ?></td>
                    </tr>
                <?php endforeach; ?>
                </tbody>
            </table>
        <?php else: ?>
                <div class="padding20 green white-text">Sem solicita&ccedil;&otilde;es.</div>
        <?php endif; ?>
    </div>
</div>